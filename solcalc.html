






<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="DC.language" scheme="DCTERMS.RFC1766" content="EN-US" >
<meta name="author" content="ESRL Web Team">
<meta name="DC.creator" content="US Department of Commerce, NOAA, Earth System Research Laboratory" >





<meta name="DC.date.created" scheme="ISO8601" content="2005-10-01" >
<meta name="DC.date.reviewed" scheme="ISO8601" content="2011-03-18" >


<meta name="keywords" content="noaa, national oceanic and atmospheric administration, earth system research, esrl, climate, air quality, numerical modeling, global warming, climate change">




<meta name="description" content="The NOAA Earth System Research Laboratory was formed to observe and understand the Earth system and to develop products, through a commitment to research that will advance the National Oceanic and Atmopsheric Administration's environmental information and services on global to local scales.">
<meta name="DC.description" content="The NOAA Earth System Research Laboratory was formed to observe and understand the Earth system and to develop products, through a commitment to research that will advance the National Oceanic and Atmopsheric Administration's environmental information and services on global to local scales." >



<title>
ESRL Global Monitoring Division - GRAD Group</title>
<meta name="DC.title" content="ESRL Global Monitoring Division - GRAD Group" >


<!-- site-wide style sheets -->
<link rel="stylesheet" type="text/css" href="/gmd/css/gmd.css" media="all">
<link rel="stylesheet" type="text/css" href="/gmd/css/style.css" media="all">
<link rel="stylesheet" type="text/css" href="/gmd/css/dropmenu.css" media="all">
<!--
<link rel="stylesheet" type="text/css" href="/gmd/css/print.css" media="print">
-->

<!--[if lte IE 6]><link rel="stylesheet" type="text/css" href="/gmd/css/ie.css" media="all"><![endif]-->



<!--[if gt IE 6]><link rel="stylesheet" type="text/css" href="/gmd/css/ie7.css" media="all"><![endif]-->
<script type="text/javascript" src="/gmd/css/ie.js"></script>
<link rel="alternate" type="application/rss+xml" title="ESRL News Feed" href="/rss/rss.xml" >








</head>

<body onload="startList()">

<div id="container">

<div id="banner">
    <div id="minor_header">
    <a href="http://www.doc.gov/">U.S. Department of Commerce</a> | <a href="http://www.noaa.gov/">National Oceanic &amp; Atmospheric Administration</a> |
    <a href="http://www.research.noaa.gov/">NOAA Research</a>
    </div>

    <div id="major_header">


    <img src="/gmd/img/banner_gmd_globe.gif" alt="NOAA Earth System Research Laboratory" usemap="#bannermap" >


    <map name="bannermap" id="bannermap">
        <area shape="circle" coords="40,40,26" href="http://www.noaa.gov/" 
            alt="NOAA Logo links to NOAA website" 
            title="Link to NOAA Website" >
        <area shape="rect" coords="85,15,540,50" href="http://www.esrl.noaa.gov/" i
            alt="Link to ESRL homepage." 
            title="Return to ESRL homepage." >
        <area shape="rect" coords="85,48,540,70" href="http://www.esrl.noaa.gov/gmd/" 
            alt="Link to ESRL gmd homepage." 
            title="Return to ESRL gmd homepage."  >
        <area shape="default" href="http://www.esrl.noaa.gov/" 
            alt="Return to ESRL homepage." >
    </map>

    <div id="search">
        <form action="http://usasearch.gov/search">
        <p>
        <br>
        <input type="hidden" name="affiliate" value="esrl.noaa.gov">
        <input type="hidden" name="v:project" value="firstgov" >
        <label for="query-field">Search ESRL:</label><br >
        <input type="text" name="query" value="" id="query-field" size="18" >
        <input type="submit" class="search" value="Search">
        </p>
        </form>

        <a style="font-size:80%;" href="http://www.esrl.noaa.gov/calendar/">Calendar</a>&nbsp;|&nbsp;
        <a style="font-size:80%;" href="http://nsd.rdc.noaa.gov/nsd/pubsearch">People</a>&nbsp;|&nbsp;
        <a style="font-size:80%;" href="http://www.esrl.noaa.gov/search/publications/">Publications</a>
        </div>

        <!-- force major_header height to include search div -->
        <div class="clear">
        </div>
        <p class="textvers"><a href="#content_link">Skip navigation</a></p>
    </div> <!-- end major_header -->

    <!-- major navigation -->

        
<div id="major_nav">
    <p class="textvers">Site navigation:</p>
    <div id="name">
        <h1><a href="/gmd/index.html">Global Monitoring Division</a></h1>
    </div>
    <ul id="nav" class="dropdown dropdown-horizontal">

        <li><a class="dir" href="/gmd/about/aboutgmd.html">About</a>
            <ul>
                 <li><a href="/gmd/about/aboutgmd.html">About GMD</a></li>
                 <li><a href="/gmd/about/orgchart.html">Organization chart</a></li>
                 <li><a href="/gmd/about/stafflist.html">Staff</a></li>
                 <li><a href="/gmd/about/stafflist_group.html">Staff by Group</a></li>
                 <li><a href="/gmd/about/contacts.html">Contacts</a></li>
                 <li><a href="http://www.esrl.noaa.gov/about/jobs.html">Employment</a></li>

            </ul>
        </li>

        <li><a class="dir" href="/gmd/about/research.html">Research</a>
            <ul>
                 <li><a href="/gmd/about/research.html">Overview</a></li>
                 <li><a href="/gmd/about/climate.html">Climate Forcing</a></li>
                 <li><a href="/gmd/about/ozone.html">Ozone Depletion</a></li>
                 <li><a href="/gmd/about/airquality.html">Baseline Air Quality</a></li>
<!--                 <li><a href="/gmd/about/projects.html">GMD Projects</a></li>  -->
                 <li><a href="/gmd/aero/">Aerosols</a></li>
                 <li><a href="/gmd/ccgg/">Greenhouse Gases</a></li>
                 <li><a href="/gmd/ozwv/">Ozone and Water Vapor</a></li>
                 <li><a href="/gmd/grad/">Solar and Infrared Radiation</a></li>
                 <li><a href="/gmd/hats/">Halocarbons and Trace Gases</a></li>
                 <li><a href="/gmd/obop/">Observatory Operations</a></li>
            </ul>
        </li>

        <li><a class="dir" href="/gmd/news/">Products</a>
            <ul>
                 <li><a href="/gmd/dv/">Products and Visualization</a></li>
                 <li><a href="/gmd/dv/data/">Search for Data</a></li>
                 <li><a href="/gmd/dv/ftpdata.html">Data Archive</a></li>
                 <li><a href="/gmd/aggi/">Greenhouse Gas Index</a></li>
                 <li><a href="/gmd/odgi/">Ozone Depletion Index</a></li>
                 <li><a href="/gmd/ccgg/trends/">Trends in CO2</a></li>
                 <li><a href="/gmd/ccgg/carbontracker/">CarbonTracker</a></li>
                 <li><a href="/gmd/ccgg/globalview/">GLOBALVIEW</a></li>
                 <li><a href="/gmd/grad/solcalc/">Solar Calculator</a></li>
                 <li><a href="/gmd/grad/snomelt.html">Barrow Snow Melt Dates</a></li>
            </ul>
        </li>

        <li><a class="dir" href="/gmd/education/">Outreach</a>
            <ul>
                 <li><a href="/gmd/news/">News</a></li>
                 <li><a href="/gmd/Photo_Gallery/">Photo Gallery</a></li>
                 <li><a href="/gmd/publications/">Publications</a></li>
                 <li><a href="/gmd/annualconference/">Annual Conference</a></li>
                 <li><a href="/gmd/about/visiting.html">Visitor information</a></li>
                 <li><a href="/gmd/education/faq_cat-1.html">Frequently Asked Questions</a></li>
                 <li><a href="/gmd/education/">Education Resources</a></li>
                 <li><a href="/gmd/obop/spo/livecamera.html">South Pole Webcam</a></li>
            </ul>
        </li>

        <li><a class="dir" href="/gmd/about/aboutgmd.html">Information</a>
            <ul>
                 <li><a href="/gmd/about/seminars.php">Seminars</a></li>
                 <li><a href="/gmd/about/links.html">Links</a></li>
                 <li><a href="/gmd/safety/">Safety Program</a></li>
            </ul>
        </li>

        <li><a href="/gmd/sitemap/">Sitemap</a>
        </li>

        <li><a href="http://intranet.cmdl.noaa.gov">Intranet</a>
        </li>
    </ul>
</div>



</div> <!-- end banner -->

<div id="pbody">
<!-- minor navigation -->

    <div id="minor_nav">
<p class="textvers">Topics:</p>

<dl>
<dt><a href="/gmd/grad/">G-Rad Home</a></dt>
<dd><ul>
<li><a href="/gmd/about/stafflist.html">Personnel</a></li>
<li><a href="/gmd/grad/starpubs.html">Publications</a></li>
</ul>
</dd>

<dt>Observing Networks</dt>
<dd><ul>
<li><a href="/gmd/grad/field.html">Globally Remote Sites</a></li>
<li><a href="http://www.srrb.noaa.gov/surfrad/index.html">SURFRAD Network</a></li>
<li><a href="http://www.esrl.noaa.gov/gmd/grad/neubrew/">NEUBrew Network</a></li>
</ul>
</dd>

<dt><a href="/gmd/grad/measurements.html">Measurements & Instruments</a></dt>
<dd><ul>
</ul></dd>

<dt><a href="/gmd/grad/stardata.html">Data Downloads</a>
</dt>
<dd><ul>
<li><a href="/gmd/grad/mloapt.html">MLO Transmission</a></li>
<li><a href="ftp://ftp.cmdl.noaa.gov/radiation/">Global Remote FTP Server</a></li>
<li><a href="ftp://ftp.srrb.noaa.gov/pub/data/surfrad/">SURFRAD FTP Server</a></li>
<li><a href="ftp://ftp.srrb.noaa.gov/pub/data/CUCF/">CUCF FTP Server</a></li>
<li><a href="ftp://ftp.srrb.noaa.gov/pub/data/neubrew">NEUBREW FTP Server</a></li>
</ul>
</dd>

<dt>Calibration Facilities</dt>
<dd><ul>
<li><a href="/gmd/grad/srf.html">Broadband Solar</a></li>
<li><a href="http://www.srrb.noaa.gov/calfacil/cucfhome.html">Central UV Calibration Facility</a></li>
</ul>
</dd>

<dt><a href="http://www.srrb.noaa.gov/highlights/sunrise/gen.html">Solar Calculators</a></dt>
<dd><ul>
<li><a href="http://www.srrb.noaa.gov/highlights/sunrise/sunrise.html">Sunrise/Sunset</a></li>
<li><a href="http://www.srrb.noaa.gov/highlights/sunrise/azel.html">Solar Position</a></li>
</ul>
</dd>
</dl>

<ul id="vertnav">
<li><a href="/gmd/about/orgchart.html">GMD Organization</a>
        <ul>
        <li><a href="/gmd/aero/">Aerosols</a></li>
        <li><a href="/gmd/grad/">GMD Radiation</a></li>
        <li><a href="/gmd/ccgg/index.html">Carbon Cycle Gases</a></li>
        <li><a href="/gmd/hats/">Trace Gases</a></li>
        <li><a href="/gmd/ozwv/">Ozone &amp; Water Vapor</a></li>
        <li><a href="/gmd/obop/">Observatory Operations</a></li>
        </ul>
</li>
<li><a href="/gmd/about/contacts.html">Contact GMD</a></li>
<li><a href="http://intranet.cmdl.noaa.gov/">GMD Intranet</a></li>
</ul>

</div>  <!-- End minor nav -->

    <div id="content">



    <a class="textvers" name="content_link">&nbsp;</a>




    <center>
    <H1>NOAA Solar Calculator</H1>
    <H4>Find Sunrise, Sunset, Solar Noon and Solar Position for Any Place on Earth</H3>
    </center>

<script src="http://maps.google.com/maps?oe=utf-8&amp;file=api&amp;v=2&amp;client=gme-noaa&amp;sensor=false&amp;channel=OAR.ESRL-GMD.G-Rad.solcalc" type="text/javascript"></script>

<script type="text/javascript">
  document.write('<script type="text/javascript" src="./markermanager' + (document.location.search.indexOf('packed') > -1 ? '_packed' : '') + '.js"><' + '/script>');
</script>


<script type="text/javascript">

/*************************************************************/
/* Cookie Functions for saving favorite location             */
/*************************************************************/

function getCookieVal (offset) {
  var endstr = document.cookie.indexOf (";", offset);
  if (endstr == -1)
  endstr = document.cookie.length;
  return unescape(document.cookie.substring(offset, endstr));
}

function GetCookie (name) {
  var arg = name + "=";
  var alen = arg.length;
  var clen = document.cookie.length;
  var i = 0;
  while (i < clen) {
    var j = i + alen;
    if (document.cookie.substring(i,j) == arg)
      return getCookieVal(j);
    i = document.cookie.indexOf(" ", i) + 1;
    if (i == 0) break;
  }
  return null;
}

function SetCookie (name, value) {
  var argv = SetCookie.arguments;
  var argc = SetCookie.arguments.length;
  var expires = (argc > 2) ? argv[2] : null;
  var path = (argc > 3) ? argv[3] : null;
  var domain = (argc > 4) ? argv[4] : null;
  var secure = (argc > 5) ? argv[5] : null;
  document.cookie = name + "=" + escape (value) + 
    ((expires == null) ? "" : ("; expires=" + expires.toGMTString())) + 
    ((path == null) ? "" : ("; path=" + path)) +
    ((domain == null) ? "" : ("; domain=" + domain)) +
    ((secure == null) ? "; secure" : "");
}

function DeleteCookie (name) {
  var exp = new Date();
  exp.setTime (exp.getTime() - 1);
  var cval = GetCookie(name);
  if (cval != null)
    document.cookie = name + "=" + cval + "; expires=" + exp.toGMTString();
}

function saveCookie () {
  var expdate = new Date();
  expdate.setTime (expdate.getTime() + (365 * 24 * 60 * 60 * 1000));
  SetCookie ("lat", document.getElementById("latbox").value, expdate, null, null, false);
  SetCookie ("lng", document.getElementById("lngbox").value, expdate, null, null, false);
  SetCookie ("gmt", document.getElementById("zonebox").value, expdate, null, null, false);
}

function calcTimeJulianCent(jd)
{
  var T = (jd - 2451545.0)/36525.0
  return T
}

function calcJDFromJulianCent(t)
{
  var JD = t * 36525.0 + 2451545.0
  return JD
}

function isLeapYear(yr) 
{
  return ((yr % 4 == 0 && yr % 100 != 0) || yr % 400 == 0);
}

function calcDoyFromJD(jd)
{
  var z = Math.floor(jd + 0.5);
  var f = (jd + 0.5) - z;
  if (z < 2299161) {
    var A = z;
  } else {
    alpha = Math.floor((z - 1867216.25)/36524.25);
    var A = z + 1 + alpha - Math.floor(alpha/4);
  }
  var B = A + 1524;
  var C = Math.floor((B - 122.1)/365.25);
  var D = Math.floor(365.25 * C);
  var E = Math.floor((B - D)/30.6001);
  var day = B - D - Math.floor(30.6001 * E) + f;
  var month = (E < 14) ? E - 1 : E - 13;
  var year = (month > 2) ? C - 4716 : C - 4715;

  var k = (isLeapYear(year) ? 1 : 2);
  var doy = Math.floor((275 * month)/9) - k * Math.floor((month + 9)/12) + day -30;
  return doy;
}


function radToDeg(angleRad) 
{
  return (180.0 * angleRad / Math.PI);
}

function degToRad(angleDeg) 
{
  return (Math.PI * angleDeg / 180.0);
}

function calcGeomMeanLongSun(t)
{
  var L0 = 280.46646 + t * (36000.76983 + t*(0.0003032))
  while(L0 > 360.0)
  {
    L0 -= 360.0
  }
  while(L0 < 0.0)
  {
    L0 += 360.0
  }
  return L0     // in degrees
}

function calcGeomMeanAnomalySun(t)
{
  var M = 357.52911 + t * (35999.05029 - 0.0001537 * t);
  return M;     // in degrees
}

function calcEccentricityEarthOrbit(t)
{
  var e = 0.016708634 - t * (0.000042037 + 0.0000001267 * t);
  return e;     // unitless
}

function calcSunEqOfCenter(t)
{
  var m = calcGeomMeanAnomalySun(t);
  var mrad = degToRad(m);
  var sinm = Math.sin(mrad);
  var sin2m = Math.sin(mrad+mrad);
  var sin3m = Math.sin(mrad+mrad+mrad);
  var C = sinm * (1.914602 - t * (0.004817 + 0.000014 * t)) + sin2m * (0.019993 - 0.000101 * t) + sin3m * 0.000289;
  return C;     // in degrees
}

function calcSunTrueLong(t)
{
  var l0 = calcGeomMeanLongSun(t);
  var c = calcSunEqOfCenter(t);
  var O = l0 + c;
  return O;     // in degrees
}

function calcSunTrueAnomaly(t)
{
  var m = calcGeomMeanAnomalySun(t);
  var c = calcSunEqOfCenter(t);
  var v = m + c;
  return v;     // in degrees
}

function calcSunRadVector(t)
{
  var v = calcSunTrueAnomaly(t);
  var e = calcEccentricityEarthOrbit(t);
  var R = (1.000001018 * (1 - e * e)) / (1 + e * Math.cos(degToRad(v)));
  return R;     // in AUs
}

function calcSunApparentLong(t)
{
  var o = calcSunTrueLong(t);
  var omega = 125.04 - 1934.136 * t;
  var lambda = o - 0.00569 - 0.00478 * Math.sin(degToRad(omega));
  return lambda;        // in degrees
}

function calcMeanObliquityOfEcliptic(t)
{
  var seconds = 21.448 - t*(46.8150 + t*(0.00059 - t*(0.001813)));
  var e0 = 23.0 + (26.0 + (seconds/60.0))/60.0;
  return e0;        // in degrees
}

function calcObliquityCorrection(t)
{
  var e0 = calcMeanObliquityOfEcliptic(t);
  var omega = 125.04 - 1934.136 * t;
  var e = e0 + 0.00256 * Math.cos(degToRad(omega));
  return e;     // in degrees
}

function calcSunRtAscension(t)
{
  var e = calcObliquityCorrection(t);
  var lambda = calcSunApparentLong(t);
  var tananum = (Math.cos(degToRad(e)) * Math.sin(degToRad(lambda)));
  var tanadenom = (Math.cos(degToRad(lambda)));
  var alpha = radToDeg(Math.atan2(tananum, tanadenom));
  return alpha;     // in degrees
}

function calcSunDeclination(t)
{
  var e = calcObliquityCorrection(t);
  var lambda = calcSunApparentLong(t);

  var sint = Math.sin(degToRad(e)) * Math.sin(degToRad(lambda));
  var theta = radToDeg(Math.asin(sint));
  return theta;     // in degrees
}

function calcEquationOfTime(t)
{
  var epsilon = calcObliquityCorrection(t);
  var l0 = calcGeomMeanLongSun(t);
  var e = calcEccentricityEarthOrbit(t);
  var m = calcGeomMeanAnomalySun(t);

  var y = Math.tan(degToRad(epsilon)/2.0);
  y *= y;

  var sin2l0 = Math.sin(2.0 * degToRad(l0));
  var sinm   = Math.sin(degToRad(m));
  var cos2l0 = Math.cos(2.0 * degToRad(l0));
  var sin4l0 = Math.sin(4.0 * degToRad(l0));
  var sin2m  = Math.sin(2.0 * degToRad(m));

  var Etime = y * sin2l0 - 2.0 * e * sinm + 4.0 * e * y * sinm * cos2l0 - 0.5 * y * y * sin4l0 - 1.25 * e * e * sin2m;
  return radToDeg(Etime)*4.0;   // in minutes of time
}

function calcHourAngleSunrise(lat, solarDec)
{
  var latRad = degToRad(lat);
  var sdRad  = degToRad(solarDec);
  var HAarg = (Math.cos(degToRad(90.833))/(Math.cos(latRad)*Math.cos(sdRad))-Math.tan(latRad) * Math.tan(sdRad));
  var HA = Math.acos(HAarg);
  return HA;        // in radians (for sunset, use -HA)
}

function isNumber(inputVal) 
{
  var oneDecimal = false;
  var inputStr = "" + inputVal;
  for (var i = 0; i < inputStr.length; i++) 
  {
    var oneChar = inputStr.charAt(i);
    if (i == 0 && (oneChar == "-" || oneChar == "+"))
    {
      continue;
    }
    if (oneChar == "." && !oneDecimal) 
    {
      oneDecimal = true;
      continue;
    }
    if (oneChar < "0" || oneChar > "9")
    {
      return false;
    }
  }
  return true;
}


function zeroPad(n, digits) {
  n = n.toString();
  while (n.length < digits) {
    n = '0' + n;
  }
  return n;
}

function readTextBox(inputId, numchars, intgr, pad, min, max, def)
{
  var number = document.getElementById(inputId).value.substring(0,numchars)
  if (intgr) {
    number = Math.floor(parseFloat(number))
  } else {  // float
    number = parseFloat(number)
  }
  if (number < min) {
    number = min
  } else if (number > max) {
    number = max
  } else if (number.toString() == "NaN") {
    number = def
  }
  if ((pad) && (intgr)) {
    document.getElementById(inputId).value = zeroPad(number,2)
  } else {
    document.getElementById(inputId).value = number
  }
  return number
}

function month(name, numdays, abbr) 
{
  this.name = name;
  this.numdays = numdays;
  this.abbr = abbr;
}
var monthList = new Array();    
var i = 0;
monthList[i++] = new month("January", 31, "Jan");
monthList[i++] = new month("February", 28, "Feb");
monthList[i++] = new month("March", 31, "Mar");
monthList[i++] = new month("April", 30, "Apr");
monthList[i++] = new month("May", 31, "May");
monthList[i++] = new month("June", 30, "Jun");
monthList[i++] = new month("July", 31, "Jul");
monthList[i++] = new month("August", 31, "Aug");
monthList[i++] = new month("September", 30, "Sep");
monthList[i++] = new month("October", 31, "Oct");
monthList[i++] = new month("November", 30, "Nov");
monthList[i++] = new month("December", 31, "Dec");


function getJD()
{
  var docmonth = document.getElementById("mosbox").selectedIndex + 1
  var docday =   document.getElementById("daybox").selectedIndex + 1
  var docyear =  readTextBox("yearbox", 5, 1, 0, -2000, 3000, 2009)
  if ( (isLeapYear(docyear)) && (docmonth == 2) ) {
    if (docday > 29) {
      docday = 29
      document.getElementById("daybox").selectedIndex = docday - 1
    } 
  } else {
    if (docday > monthList[docmonth-1].numdays) {
      docday = monthList[docmonth-1].numdays
      document.getElementById("daybox").selectedIndex = docday - 1
    }
  }
  if (docmonth <= 2) {
    docyear -= 1
    docmonth += 12
  }
  var A = Math.floor(docyear/100)
  var B = 2 - A + Math.floor(A/4)
  var JD = Math.floor(365.25*(docyear + 4716)) + Math.floor(30.6001*(docmonth+1)) + docday + B - 1524.5
  return JD
}

function getTimeLocal()
{
  var dochr = readTextBox("hrbox", 2, 1, 1, 0, 23, 12)
  var docmn = readTextBox("mnbox", 2, 1, 1, 0, 59, 0)
  var docsc = readTextBox("scbox", 2, 1, 1, 0, 59, 0)
  var docpm = document.getElementById("pmbox").checked
  var docdst = document.getElementById("dstCheckbox").checked
  if ( (docpm) && (dochr < 12) ) {
    dochr += 12
  }
  if (docdst) {
    dochr -= 1
  }
  var mins = dochr * 60 + docmn + docsc/60.0
  return mins
}

function calcAzEl(output, T, localtime, latitude, longitude, zone)
{
  var eqTime = calcEquationOfTime(T)
  var theta  = calcSunDeclination(T)
  if (output) {
    document.getElementById("eqtbox").value = Math.floor(eqTime*100 +0.5)/100.0
    document.getElementById("sdbox").value = Math.floor(theta*100+0.5)/100.0
  }
  var solarTimeFix = eqTime + 4.0 * longitude - 60.0 * zone
  var earthRadVec = calcSunRadVector(T)
  var trueSolarTime = localtime + solarTimeFix
  while (trueSolarTime > 1440)
  {
    trueSolarTime -= 1440
  }
  var hourAngle = trueSolarTime / 4.0 - 180.0;
  if (hourAngle < -180) 
  {
    hourAngle += 360.0
  }
  var haRad = degToRad(hourAngle)
  var csz = Math.sin(degToRad(latitude)) * Math.sin(degToRad(theta)) + Math.cos(degToRad(latitude)) * Math.cos(degToRad(theta)) * Math.cos(haRad)
  if (csz > 1.0) 
  {
    csz = 1.0
  } else if (csz < -1.0) 
  { 
    csz = -1.0
  }
  var zenith = radToDeg(Math.acos(csz))
  var azDenom = ( Math.cos(degToRad(latitude)) * Math.sin(degToRad(zenith)) )
  if (Math.abs(azDenom) > 0.001) {
    azRad = (( Math.sin(degToRad(latitude)) * Math.cos(degToRad(zenith)) ) - Math.sin(degToRad(theta))) / azDenom
    if (Math.abs(azRad) > 1.0) {
      if (azRad < 0) {
    azRad = -1.0
      } else {
    azRad = 1.0
      }
    }
    var azimuth = 180.0 - radToDeg(Math.acos(azRad))
    if (hourAngle > 0.0) {
      azimuth = -azimuth
    }
  } else {
    if (latitude > 0.0) {
      azimuth = 180.0
    } else { 
      azimuth = 0.0
    }
  }
  if (azimuth < 0.0) {
    azimuth += 360.0
  }
  var exoatmElevation = 90.0 - zenith

// Atmospheric Refraction correction

  if (exoatmElevation > 85.0) {
    var refractionCorrection = 0.0;
  } else {
    var te = Math.tan (degToRad(exoatmElevation));
    if (exoatmElevation > 5.0) {
      var refractionCorrection = 58.1 / te - 0.07 / (te*te*te) + 0.000086 / (te*te*te*te*te);
    } else if (exoatmElevation > -0.575) {
      var refractionCorrection = 1735.0 + exoatmElevation * (-518.2 + exoatmElevation * (103.4 + exoatmElevation * (-12.79 + exoatmElevation * 0.711) ) );
    } else {
      var refractionCorrection = -20.774 / te;
    }
    refractionCorrection = refractionCorrection / 3600.0;
  }

  var solarZen = zenith - refractionCorrection;

  if ((output) && (solarZen > 108.0) ) {
    document.getElementById("azbox").value = "dark"
    document.getElementById("elbox").value = "dark"
  } else if (output) {
    document.getElementById("azbox").value = Math.floor(azimuth*100 +0.5)/100.0
    document.getElementById("elbox").value = Math.floor((90.0-solarZen)*100+0.5)/100.0
    if (document.getElementById("showae").checked) {
      showLineGeodesic("#ffff00", azimuth)
    }
  }
  return (azimuth)
}

function calcSolNoon(jd, longitude, timezone, dst)
{
  var tnoon = calcTimeJulianCent(jd - longitude/360.0)
  var eqTime = calcEquationOfTime(tnoon)
  var solNoonOffset = 720.0 - (longitude * 4) - eqTime // in minutes
  var newt = calcTimeJulianCent(jd + solNoonOffset/1440.0)
  eqTime = calcEquationOfTime(newt)
  solNoonLocal = 720 - (longitude * 4) - eqTime + (timezone*60.0)// in minutes
  if(dst) solNoonLocal += 60.0
  document.getElementById("noonbox").value = timeString(solNoonLocal, 3)
}

function dayString(jd, next, flag)
{
// returns a string in the form DDMMMYYYY[ next] to display prev/next rise/set
// flag=2 for DD MMM, 3 for DD MM YYYY, 4 for DDMMYYYY next/prev
  if ( (jd < 900000) || (jd > 2817000) ) {
    var output = "error"
  } else {
  var z = Math.floor(jd + 0.5);
  var f = (jd + 0.5) - z;
  if (z < 2299161) {
    var A = z;
  } else {
    alpha = Math.floor((z - 1867216.25)/36524.25);
    var A = z + 1 + alpha - Math.floor(alpha/4);
  }
  var B = A + 1524;
  var C = Math.floor((B - 122.1)/365.25);
  var D = Math.floor(365.25 * C);
  var E = Math.floor((B - D)/30.6001);
  var day = B - D - Math.floor(30.6001 * E) + f;
  var month = (E < 14) ? E - 1 : E - 13;
  var year = ((month > 2) ? C - 4716 : C - 4715);
  if (flag == 2)
    var output = zeroPad(day,2) + " " + monthList[month-1].abbr;
  if (flag == 3)
    var output = zeroPad(day,2) + monthList[month-1].abbr + year.toString();
  if (flag == 4)
    var output = zeroPad(day,2) + monthList[month-1].abbr + year.toString() + ((next) ? " next" : " prev");
  }
  return output;
}

function timeDateString(JD, minutes)
{
  var output = timeString(minutes, 2) + " " + dayString(JD, 0, 2);
  return output;
}

function timeString(minutes, flag)
// timeString returns a zero-padded string (HH:MM:SS) given time in minutes
// flag=2 for HH:MM, 3 for HH:MM:SS
{
  if ( (minutes >= 0) && (minutes < 1440) ) {
  var floatHour = minutes / 60.0;
  var hour = Math.floor(floatHour);
  var floatMinute = 60.0 * (floatHour - Math.floor(floatHour));
  var minute = Math.floor(floatMinute);
  var floatSec = 60.0 * (floatMinute - Math.floor(floatMinute));
  var second = Math.floor(floatSec + 0.5);
  if (second > 59) {
    second = 0
    minute += 1
  }
  if ((flag == 2) && (second >= 30)) minute++;
  if (minute > 59) {
    minute = 0
    hour += 1
  }
  var output = zeroPad(hour,2) + ":" + zeroPad(minute,2);
  if (flag > 2) output = output + ":" + zeroPad(second,2);
  } else { 
    var output = "error"
  }
  return output;
}

function calcSunriseSetUTC(rise, JD, latitude, longitude)
{
  var t = calcTimeJulianCent(JD);
  var eqTime = calcEquationOfTime(t);
  var solarDec = calcSunDeclination(t);
  var hourAngle = calcHourAngleSunrise(latitude, solarDec);
  //alert("HA = " + radToDeg(hourAngle));
  if (!rise) hourAngle = -hourAngle;
  var delta = longitude + radToDeg(hourAngle);
  var timeUTC = 720 - (4.0 * delta) - eqTime;   // in minutes
  return timeUTC
}

function calcSunriseSet(rise, JD, latitude, longitude, timezone, dst)
// rise = 1 for sunrise, 0 for sunset
{
  var id = ((rise) ? "risebox" : "setbox")
  var timeUTC = calcSunriseSetUTC(rise, JD, latitude, longitude);
  var newTimeUTC = calcSunriseSetUTC(rise, JD + timeUTC/1440.0, latitude, longitude); 
  if (isNumber(newTimeUTC)) {
    var timeLocal = newTimeUTC + (timezone * 60.0)
    if (document.getElementById(rise ? "showsr" : "showss").checked) {
      var riseT = calcTimeJulianCent(JD + newTimeUTC/1440.0)
      var riseAz = calcAzEl(0, riseT, timeLocal, latitude, longitude, timezone)
      showLineGeodesic(rise ? "#66ff00" : "#ff0000", riseAz)
    }
    timeLocal += ((dst) ? 60.0 : 0.0);
    if ( (timeLocal >= 0.0) && (timeLocal < 1440.0) ) {
      document.getElementById(id).value = timeString(timeLocal,2)
    } else  {
      var jday = JD
      var increment = ((timeLocal < 0) ? 1 : -1)
      while ((timeLocal < 0.0)||(timeLocal >= 1440.0)) {
        timeLocal += increment * 1440.0
    jday -= increment
      }
      document.getElementById(id).value = timeDateString(jday,timeLocal)
    }
  } else { // no sunrise/set found
    var doy = calcDoyFromJD(JD)
    if ( ((latitude > 66.4) && (doy > 79) && (doy < 267)) ||
    ((latitude < -66.4) && ((doy < 83) || (doy > 263))) )
    {   //previous sunrise/next sunset
      if (rise) { // find previous sunrise
        jdy = calcJDofNextPrevRiseSet(0, rise, JD, latitude, longitude, timezone, dst)
      } else { // find next sunset
        jdy = calcJDofNextPrevRiseSet(1, rise, JD, latitude, longitude, timezone, dst)
      }
      document.getElementById(((rise)? "risebox":"setbox")).value = dayString(jdy,0,3)
    } else {   //previous sunset/next sunrise
      if (rise == 1) { // find previous sunrise
        jdy = calcJDofNextPrevRiseSet(1, rise, JD, latitude, longitude, timezone, dst)
      } else { // find next sunset
        jdy = calcJDofNextPrevRiseSet(0, rise, JD, latitude, longitude, timezone, dst)
      }
      document.getElementById(((rise)? "risebox":"setbox")).value = dayString(jdy,0,3)
    }
  }
}

function calcJDofNextPrevRiseSet(next, rise, JD, latitude, longitude, tz, dst)
{
  var julianday = JD;
  var increment = ((next) ? 1.0 : -1.0);

  var time = calcSunriseSetUTC(rise, julianday, latitude, longitude);
  while(!isNumber(time)){
    julianday += increment;
    time = calcSunriseSetUTC(rise, julianday, latitude, longitude);
  }
  var timeLocal = time + tz * 60.0 + ((dst) ? 60.0 : 0.0)
  while ((timeLocal < 0.0) || (timeLocal >= 1440.0))
  {
    var incr = ((timeLocal < 0) ? 1 : -1)
    timeLocal += (incr * 1440.0)
    julianday -= incr
  }
  return julianday;
}

function clearOutputs()
{
  document.getElementById("eqtbox").value = ""
  document.getElementById("sdbox").value = ""
  document.getElementById("risebox").value = ""
  document.getElementById("noonbox").value = ""
  document.getElementById("setbox").value = ""
  document.getElementById("azbox").value = ""
  document.getElementById("elbox").value = ""
}

function calculate() {
  //refreshMap()
  //clearOutputs()
  //map.clearOverlays()
  //showMarkers()
  var jday = getJD()
  var tl = getTimeLocal()
  var tz = readTextBox("zonebox", 5, 0, 0, -14, 13, 0)
  var dst = document.getElementById("dstCheckbox").checked
  var total = jday + tl/1440.0 - tz/24.0
  var T = calcTimeJulianCent(total)
  var lat = parseFloat(document.getElementById("latbox").value.substring(0,9))
  var lng = parseFloat(document.getElementById("lngbox").value.substring(0,10))
  calcAzEl(1, T, tl, lat, lng, tz)
  calcSolNoon(jday, lng, tz, dst)
  var rise = calcSunriseSet(1, jday, lat, lng, tz, dst)
  var set  = calcSunriseSet(0, jday, lat, lng, tz, dst)
  //alert("JD " + jday + "  " + rise + "  " + set + "  ")
}

</SCRIPT>

</head>
<body onload="load()" onunload="GUnload()">
  
  
  
<TABLE cellpadding="2">
<TR><TD align="center">
  <FORM NAME="showpins" action="">
  <TABLE cellpadding="0">
  <TR><TH>
  Show: 
  </TH><TD>
  <FONT size="2" color="purple">
  <INPUT TYPE="radio" NAME="showpins" ID="showworld" VALUE="World" onClick="refreshMap()">World Cities
  </TD><TD>
  <FONT size="2" color="blue">
  <INPUT TYPE="radio" NAME="showpins" ID="showus" VALUE="US" CHECKED onClick="refreshMap()">U.S. Cities
  </TD><TD>
  <FONT size="2" color="gray">
  <INPUT TYPE="radio" NAME="showpins" ID="showobs" VALUE="Obs" onClick="refreshMap()">GMD Observ.'s
  </TD><TD>
  <FONT size="2" color="green">
  <INPUT TYPE="radio" NAME="showpins" ID="showdata" VALUE="Data" onClick="refreshMap()">GMD Data Sites
  </TD><TD>
  <FONT size="2" color="red">
  <INPUT TYPE="radio" NAME="showpins" ID="showsurf" VALUE="Surf" onClick="refreshMap()">SurfRad
  </TD></TR>
  <TR><TD colspan="6">
  <font size="1">
  Click one of the small pins near (and in the same time zone as) your desired location. Use the control on the left side of the map to zoom in or out. Place the large pin in the exact desired location. You can use the Save button to have your computer remember the current location for next time. Check the DST check box if Daylight Saving Time is in effect for your site.
  </font>
  </TD></TR>
  </TABLE>
</TD></TR>
<TR><TD align="center">
<div id='map' style='width: 600px; height: 450px; '></div>
</TD></TR>
<TR><TD align="center">
  <TABLE border="2" cellpadding="2" width="630">
  <TR>
  <TH>Location:</TH>
  <TD>
  &nbsp;<a href="glossary.html#latitude" target="_blank">Lat</a> 
  <SCRIPT type="text/javascript">
    var cookee = GetCookie("lat");
    var lat = (cookee) ? cookee : "39.833";
    document.writeln("<INPUT TYPE=\"text\" NAME=\"lat\" id=\"latbox\" SIZE=\"5\" VALUE=\"" + lat + "\" class=\"textinput\" onChange=\"latlongChanged()\">");
  </SCRIPT>
  </TD><TD>
  &nbsp;<a href="glossary.html#longitude" target="_blank">Lng</a> 
  <SCRIPT LANGUAGE="JavaScript" type="text/javascript">
    var cookee = GetCookie("lng");
    var lon = (cookee) ? cookee : "-98.583";
    document.writeln("<INPUT TYPE=\"text\" NAME=\"lon\" id=\"lngbox\" SIZE=\"8\" VALUE=\"" + lon + "\" class=\"textinput\" onChange=\"latlongChanged()\">");
  </SCRIPT>
  </TD><TD>
  &nbsp;<a href="timezone.html" target="_blank">Time Zone</a> 
  <SCRIPT LANGUAGE="JavaScript" type="text/javascript">
    var cookee = GetCookie("gmt");
    var gmt = (cookee) ? cookee : "-6";
    document.writeln("<INPUT TYPE=\"text\" NAME=\"timezone\" id=\"zonebox\" SIZE=\"3\" VALUE=\"" + gmt + "\" class=\"textinput\" onKeyPress=\"clearOutputs()\" onChange=\"inputsChanged()\">");
  </SCRIPT>
  </TD><TD>
  &nbsp;<a href="glossary.html#daylightsavingtime" target="_blank">DST?</a> <INPUT TYPE="checkbox" NAME="dst" ID="dstCheckbox" onClick="inputsChanged()">&nbsp;
  </TD><TD>
  <INPUT TYPE="button" NAME="mkCookie" VALUE="Save" onClick="saveCookie()">
  </TD></TR>
  </TABLE>

</TD></TR><TR><TD align="center">
  <TABLE border="2" cellpadding="2" width="630">
  <TR>
  <TH>Date:</TH>
  <TD>
  &nbsp;Day
  <SELECT NAME="day" ID="daybox" onChange="inputsChanged()">
  <SCRIPT type="text/javascript">
    dateObj2 = new Date();
    thisday = dateObj2.getDate();
        for (i = 1; i < 32; i++) {
      if (i == thisday) {
            document.writeln("<OPTION SELECTED>" + i);
      }
      else {
        document.writeln("<OPTION>" + i);
      }
    }
  </SCRIPT>
  </SELECT>
  </TD><TD>
  &nbsp;Mon
  <SELECT NAME="mos" ID="mosbox" onChange="inputsChanged()">
  <SCRIPT LANGUAGE="JavaScript" type="text/javascript">

    dateObj1 = new Date();
        thismonth = dateObj1.getMonth();
        today = dateObj1.getDate(); 
        for (i = 0; i < monthList.length; i++) {
      if (i == thismonth) {
            document.writeln("<OPTION SELECTED>" + monthList[i].abbr);
      }
      else {
        document.writeln("<OPTION>" + monthList[i].abbr);
      }
    }
  </SCRIPT>
  </SELECT>
  </TD><TD>
  &nbsp;Yr
  <SCRIPT LANGUAGE="JavaScript" type="text/javascript">
    dateObj3 = new Date();
    thisYear = dateObj3.getYear();
    if(thisYear <=199){
      thisYear=(thisYear*1)+1900;
    }
    document.writeln("<INPUT TYPE=\"text\" ID=\"yearbox\" NAME=\"year\" SIZE=\"4\"VALUE=\"" + thisYear*1 + "\" onKeyPress=\"clearOutputs()\" onChange=\"inputsChanged()\">");
  </SCRIPT>
  </TD><TH>Local Time:</TH>
  <TD>
  <SCRIPT LANGUAGE="JavaScript">
    var dateObj4 = new Date();
    var nowhour = dateObj4.getHours();
    var nowmins = dateObj4.getMinutes();
    var nowsecs = dateObj4.getSeconds();

    document.writeln("<INPUT TYPE=\"text\" ID=\"hrbox\" NAME=\"hour\" SIZE=\"2\"VALUE=\"" + zeroPad(nowhour,2) + "\" onKeyPress=\"clearOutputs()\" onChange=\"inputsChanged()\"> <b>:</b>");
    document.writeln("<INPUT TYPE=\"text\" ID=\"mnbox\" NAME=\"mins\" SIZE=\"2\"VALUE=\"" + zeroPad(nowmins,2) + "\" onKeyPress=\"clearOutputs()\" onChange=\"inputsChanged()\"> <b>:</b>");
    document.writeln("<INPUT TYPE=\"text\" ID=\"scbox\" NAME=\"secs\" SIZE=\"2\"VALUE=\"" + zeroPad(nowsecs,2) + "\" onKeyPress=\"clearOutputs()\" onChange=\"inputsChanged()\">");
    document.writeln("<INPUT TYPE=\"checkbox\" ID=\"pmbox\" NAME=\"pm\" onClick=\"inputsChanged()\">PM");
  </SCRIPT>

  </TD></TR>
  </TABLE>

</TD></TR><TR><TD align="center">
<!-- <INPUT TYPE="button" NAME="calc" VALUE="    Calculate    " onClick="inputsChanged()">
-->
&nbsp;
</TD></TR><TR><TD align="center">

<TABLE border="2" cellpadding="2" width="630">
  <TR>  
  <TD ALIGN="CENTER"><H5><a href="./glossary.html#equationoftime" target="_blank">Equation <BR>of Time</a><BR>(minutes):</TD>
  <TD ALIGN="CENTER"><H5><a href="./glossary.html#solardeclination" target="_blank">Solar<BR>Declination</a><BR> (degrees):</TD>
  <TD ALIGN="CENTER"><H5><a href="./glossary.html#apparentsunrise" target="_blank">Apparent<br>Sunrise</a>:</TD>
  <TD ALIGN="CENTER"><H5><a href="./glossary.html#solarnoon" target="_blank">Solar Noon</a>:</TD>
  <TD ALIGN="CENTER"><H5><a href="./glossary.html#apparentsunrise" target="_blank">Apparent<br>Sunset</a>:</TD>
  <TD ALIGN="CENTER"><H5>Current<br><a href="./glossary.html#azimuthelevation" target="_blank">Az/El</a><br>(degrees):</TD>
  </TR>
  <TR>
  <TD><CENTER><INPUT TYPE="text" ID="eqtbox" NAME="eqTime" SIZE = "8"></TD>
  <TD><CENTER><INPUT TYPE="text" ID="sdbox" NAME="solarDec" SIZE = "8"></TD>
  <TD><CENTER><INPUT TYPE="text" ID="risebox" NAME="sunrise" SIZE="13"></TD>
  <TD><CENTER><INPUT TYPE="text" ID="noonbox" NAME="solnoon" SIZE="8"></TD>
  <TD><CENTER><INPUT TYPE="text" ID="setbox" NAME="sunset" SIZE="13"></TD>
  <TD><CENTER><INPUT TYPE="text" ID="azbox" NAME="az" SIZE="5">
    <INPUT TYPE="text" ID="elbox" NAME="el" SIZE="5"></TD>
  </TR>
  <TR><TD colspan="2" ALIGN="center">
  Show on map:
  </TD>
  <TD align="center" bgcolor="#000000"><FONT size="2" color="#66ff00">Sunrise<INPUT TYPE="checkbox" ID="showsr" NAME="srshow" onClick="inputsChanged()"></FONT>
  </TD>
  <TD></TD>
  <TD align="center" bgcolor="#000000"><FONT size="2" color="#ff0000">Sunset<INPUT TYPE="checkbox" ID="showss" NAME="ssshow" onClick="inputsChanged()"></FONT>
  </TD>
  <TD align="center" bgcolor="#000000"><FONT size="2" color="#ffff00">Current<INPUT TYPE="checkbox" ID="showae" NAME="aeshow" onClick="inputsChanged()"></FONT>
  </TD>
  </TR>
</TABLE>

  </FORM>
</TABLE>

<script type="text/javascript">
//<![CDATA[

if (GBrowserIsCompatible()) {

function city(name, lat, lng, zone) {
  this.name = name
  this.lat = lat
  this.lng = lng
  this.zone = zone
}

function pushcity(citylist, name, lat, lng, zone) {
  var newcity = new city(name, lat, lng, zone)
  citylist.push(newcity)
}

var USCities = [];
pushcity(USCities, "Anchorage, AK", 61.217, -149.90,-9);
pushcity(USCities, "Atlanta, GA", 33.733, -84.383, -5);
pushcity(USCities, "Bismarck, ND", 46.817, -100.783, -6);
pushcity(USCities, "Boston, MA", 42.35, -71.05, -5);
pushcity(USCities, "Chicago, IL", 41.85,-87.65,-6);
pushcity(USCities, "Dallas, TX", 32.46, -96.47,-6);
pushcity(USCities, "Denver, CO", 39.74, -104.99, -7);
pushcity(USCities, "Detroit, MI", 42.333, -83.05, -5);
pushcity(USCities, "Honolulu, HI", 21.30, -157.85, -10);
pushcity(USCities, "Los Angeles, CA",34.05,-118.23,-8);
pushcity(USCities, "Miami, FL", 25.77, -80.18,-5);
pushcity(USCities, "Minneapolis, MN", 44.97, -93.25, -6);
pushcity(USCities, "New Orleans, LA", 29.95, -90.07, -6);
pushcity(USCities, "New York City, NY", 40.72, -74.02, -5);
pushcity(USCities, "Phoenix, AZ",33.43,-112.07,-7);
pushcity(USCities, "Portland, OR", 45.52, -122.65, -8);
pushcity(USCities, "Raleigh, NC", 35.78, -78.65, -5);
pushcity(USCities, "Saint Louis, MO", 38.62,-90.18,-6);
pushcity(USCities, "San Francisco, CA",37.77,-122.42,-8);
pushcity(USCities, "Seattle, WA",47.60,-122.32,-8);
pushcity(USCities, "Washington DC", 38.88, -77.03,-5);

var WorldCities = [];
pushcity(WorldCities, "Adelaide, SA, Australia", -34.925, 138.60, 9.5);
pushcity(WorldCities, "Addis Ababa, Ethiopia", 9.01, 38.758, 3);
pushcity(WorldCities, "Astana, Kazakhstan", 51.183, 71.45, 6);
pushcity(WorldCities, "Auckland, New Zealand", -36.847, 174.77,12);
pushcity(WorldCities, "Baku, Azerbaijan", 40.417, 49.825, 4);
pushcity(WorldCities, "Bangkok, Thailand", 13.725, 100.475, 7);
pushcity(WorldCities, "Beijing, China",39.92, 116.42,8);
pushcity(WorldCities, "Berlin, Germany",52.33, 13.30, 1);
pushcity(WorldCities, "Bombay, India", 18.93, 72.83, 5.5);
pushcity(WorldCities, "Buenos Aires, Argentina", -34.60,-58.45,-3);
pushcity(WorldCities, "Cairo, Egypt", 30.10,31.37,2);
pushcity(WorldCities, "Caracas, Venezuela", 10.5, -66.898, -4.5);
pushcity(WorldCities, "Cape Town, South Africa",-33.92,18.37,2);
pushcity(WorldCities, "Dakar, Senegal", 14.687,-17.45, 0);
pushcity(WorldCities, "Darwin, NT, Australia", -12.46,130.842, 9.5);
pushcity(WorldCities, "Edmonton, AB, Canada", 53.533,-113.494,-7);
pushcity(WorldCities, "Halifax, NS, Canada", 44.646,-63.575,-4);
pushcity(WorldCities, "Havana, Cuba", 23.133,-82.367,-5);
pushcity(WorldCities, "Helsinki, Finland", 60.17, 24.97,2);
pushcity(WorldCities, "Hong Kong, China", 22.25,114.17, 8);
pushcity(WorldCities, "Jerusalem, Israel", 31.78, 35.23, 2);
pushcity(WorldCities, "Johannesburg, South Africa", -26.20, 28.046, 2);
pushcity(WorldCities, "Kabul, Afghanistan", 34.53, 69.172, 4.5);
pushcity(WorldCities, "Karachi, Pakistan", 24.892, 67.027, 5);
pushcity(WorldCities, "Kathmandu, Nepal", 27.70, 85.317, 5.75);
pushcity(WorldCities, "Lagos, Nigeria", 6.442, 3.417, 1);
pushcity(WorldCities, "Lima, Peru", -12.092, -77.047, -5);
pushcity(WorldCities, "Lisbon, Portugal", 38.707, -9.133,0);
pushcity(WorldCities, "London, United Kingdom", 51.50, -0.13,0);
pushcity(WorldCities, "Manaus, Brazil", -3.107,-60.025,-4);
pushcity(WorldCities, "Mexico City, Mexico", 19.4,-99.15,-6);
pushcity(WorldCities, "Montreal, QC, Canada", 45.55,-73.633,-5);
pushcity(WorldCities, "Moscow, Russia", 55.75, 37.58, 3);
pushcity(WorldCities, "New Delhi, India",28.6, 77.2, 5.5);
pushcity(WorldCities, "Nuku alofa, Tonga",-21.133, -175.217, 13);
pushcity(WorldCities, "Nuuk, Greenland", 64.183, -51.717, -3);
pushcity(WorldCities, "Ottawa, Canada", 45.42,-75.7,-5);
pushcity(WorldCities, "Paris, France", 48.87, 2.67, 1);
pushcity(WorldCities, "Perth, WA, Australia", -31.955, 115.858, 8);
pushcity(WorldCities, "Reykjavik, Iceland", 64.133, -21.9, 0);
pushcity(WorldCities, "Rio de Janeiro, Brazil",-22.90,-43.23,-3);
pushcity(WorldCities, "Riyadh, Saudi Arabia", 24.63, 46.72, 3);
pushcity(WorldCities, "Rome, Italy",41.90, 12.48,1);
pushcity(WorldCities, "Santiago, Chile",-33.425, -70.567,-4);
pushcity(WorldCities, "Solomon Islands",-9.646, 160.375, 11);
pushcity(WorldCities, "Stockholm, Sweden", 59.333, 18.067, 1);
pushcity(WorldCities, "Sydney, Australia",-33.87,151.22,10);
pushcity(WorldCities, "Tehran, Iran",35.70,51.42,3.5);
pushcity(WorldCities, "Tokyo, Japan", 35.70, 139.77, 9);
pushcity(WorldCities, "Vancouver, BC, Canada", 49.267, -123.117, -8);
pushcity(WorldCities, "Vladivostok, Russia", 43.131, 131.925, 10);
pushcity(WorldCities, "Winnipeg, MB, Canada", 49.896, -97.15, -6);
pushcity(WorldCities, "Yangon, Myanmar", 16.783, 96.158, 6.5);
pushcity(WorldCities, "Zurich, Switzerland", 47.38, 8.53,1);

var obs = [];
pushcity(obs, "Barrow, AK",71.32, -156.60,-9);
pushcity(obs, "Trinidad Head, CA",41.05, -124.15,-8);
pushcity(obs, "Mauna Loa, HI", 19.54, -155.58, -10);
pushcity(obs, "American Samoa", -14.24, -170.57, -11);
pushcity(obs, "South Pole, Antarctica", -89.98, -24.80, -12);
pushcity(obs, "Summit, Greenland", 72.5800, -38.4800, -3)

var surfrad = [];
pushcity(surfrad, 'Goodwin Creek, MS',34.254,-89.874, -6)
pushcity(surfrad, 'Fort Peck, MT',48.311,-105.103, -7)
pushcity(surfrad, 'Bondville, IL',40.055,-88.372, -6)
pushcity(surfrad, 'Table Mountain, CO',40.125,-105.237, -7)
pushcity(surfrad, 'Desert Rock, NV',36.626,-116.018,-8)
pushcity(surfrad, 'Penn State, PA',40.72,-77.93,-5)
pushcity(surfrad, 'Sioux Falls, SD', 43.733, -96.6233, -6)

var sites = [];
pushcity(sites,'Arembepe, Bahia, Brazil',-12.77,-38.17,-3)
pushcity(sites,'Albuquerque, NM, USA',35.04,-106.62,-7)
pushcity(sites,'Alert, Nunavut, Canada',82.4508,-62.5056,-4)
pushcity(sites,'Argyle, ME, USA',45.03,-68.68,-5)
pushcity(sites,'Arrival Heights, Antarctica, New Zealand',-77.833,166.2,-11)
pushcity(sites,'Ascension Island, United Kingdom',-7.92,-14.42,-1)
pushcity(sites,'Assekrem, Algeria',23.18,5.42,1)
pushcity(sites,'Terceira Island, Azores, Portugal',38.77,-27.38,-1)
pushcity(sites,'Baltic Sea, Poland',55.35,17.22,1)
pushcity(sites,'Boulder Atmospheric Observatory, USA',40.05,-105.01,-7)
pushcity(sites,'Bradgate, IA, USA',42.82,-94.41,-6)
pushcity(sites,'Bismarck, ND, USA',46.77,-100.75,6)
pushcity(sites,'Bukit Kototabang, Indonesia',-0.2,100.32,7)
pushcity(sites,'Boulder, CO, USA',39.991,-105.261,-7)
pushcity(sites,'St. Davids Head, Bermuda, United Kingdom',32.37,-64.65,-4)
pushcity(sites,'Tudor Hill, Bermuda, United Kingdom',32.27,-64.88,-4)
pushcity(sites,'Nashville, TN, USA',36.25,-86.56,6)
pushcity(sites,'Bondville, IL, USA',40.05,-88.37,6)
pushcity(sites,'Beaver Crossing, NE, USA',40.8,-97.18,-6)
pushcity(sites,'Prospect Hill, Bermuda, United Kingdom',32.308,-64.765,-4)
pushcity(sites,'BERMS, Saskatchewan, Canada',54.34,-104.99,-6)
pushcity(sites,'Barrow, AK, USA',71.323,-156.6114,-9)
pushcity(sites,'Black Sea, Constanta, Romania',44.17,28.68,2)
pushcity(sites,'Briggsdale, CO, USA',40.37,-104.3,-7)
pushcity(sites,'Cold Bay, AK, USA',55.21,-162.72,-9)
pushcity(sites,'Caribou, ME, USA',46.87,-68.02,5)
pushcity(sites,'Cape Grim, Tasmania, Australia',-40.683,144.69,10)
pushcity(sites,'Cape May, NJ, USA',38.83,-74.32,-5)
pushcity(sites,'Cape San Juan, Puerto Rico, USA',18.3811,-65.6177,0)
pushcity(sites,'Cape Point, South Africa',-34.35,18.49,2)
pushcity(sites,'Crozet Island, France',-46.45,51.85,5)
pushcity(sites,'Dahlen, ND, USA',48.38,-99,-6)
pushcity(sites,'Desert Rock, NV, USA',36.63,-116.02,-8)
pushcity(sites,'Easter Island, Chile',-27.15,-109.45,-7)
pushcity(sites,'Estevan Point,  British Columbia, Canada',49.5833,-126.3667,-8)
pushcity(sites,'Fairbanks, AK, USA',64.86,-147.85,9)
pushcity(sites,'Fort Peck, MT, USA',48.31,-105.1,-7)
pushcity(sites,'Fairchild, WI, USA',44.66,-90.96,-6)
pushcity(sites,'Goodwin Creek, MS, USA',34.25,-89.87,-5)
pushcity(sites,'Conejo, Mexico',18.72,-95.63,-6)
pushcity(sites,'Mariana Islands, Guam',13.43,144.78,10)
pushcity(sites,'Molokai Island, HI, USA',21.23,-158.95,-10)
pushcity(sites,'Halley Station, Antarctica, United Kingdom',-75.58,-26.5,-2)
pushcity(sites,'Harvard Forest, MA, USA',42.5378,-72.1714,-5)
pushcity(sites,'Hilo, HI, USA',19.52,-154.82,10)
pushcity(sites,'Homer, IL, USA',40.07,-87.91,-6)
pushcity(sites,'Hanford, CA, USA',36.31,-119.63,8)
pushcity(sites,'Hohenpeissenberg, Germany',47.8,11.01,1)
pushcity(sites,'Hegyhatsal, Hungary',46.95,16.65,1)
pushcity(sites,'Huntsville, AL, USA',34.72,-86.64,5)
pushcity(sites,'Storhofdi, Vestmannaeyjar, Iceland',63.34,-20.29,0)
pushcity(sites,'Tenerife, Canary Islands, Spain',28.3,-16.48,0)
pushcity(sites,'Key Biscayne, FL, USA',25.67,-80.2,-5)
pushcity(sites,'Kpuszta, Keszcemet, Hungary',46.97,19.55,0)
pushcity(sites,'Cape Kumukahi, HI, USA',19.52,-154.82,-10)
pushcity(sites,'Kwajalein, Marshall Islands',8.72,167.72,0)
pushcity(sites,'Sary Taukum, Kazakhstan',44.0839,76.8712,6)
pushcity(sites,'Plateau Assy, Kazakhstan',43.25,77.88,6)
pushcity(sites,'Lauder, New Zealand',-45.04,169.68,-12)
pushcity(sites,'Park Falls, WI, USA',45.93,-90.27,-6)
pushcity(sites,'Lac La Biche, Alberta, Canada',54.95,-112.45,-7)
pushcity(sites,'Lulin, Taiwan',23.47,120.87,8)
pushcity(sites,'Lampedusa, Italy',35.52,12.62,2)
pushcity(sites,'Mex High Altitude Global Climate Obs Ctr',19.98,-97.17,-6)
pushcity(sites,'Mace Head, County Galway, Ireland',53.33,-9.9,0)
pushcity(sites,'Sand Island, Midway, USA',28.21,-177.38,-11)
pushcity(sites,'Mt. Kenya, Kenya',-0.05,37.3,3)
pushcity(sites,'Mauna Loa, HI, USA',19.5362,-155.5763,-10)
pushcity(sites,'Maracompoche, Peru',-11.4,-76.32,5)
pushcity(sites,'Marthas Vineyard, MA, USA',41.33,-70.52,-5)
pushcity(sites,'Nome, AK, USA',64.3,-165.26,0)
pushcity(sites,'Worcester, MA, USA',42.95,-70.63,-5)
pushcity(sites,'Narragansett, RI, USA',41.49,-71.42,0)
pushcity(sites,'Niwot Ridge, CO, USA',40.05,-105.58,-7)
pushcity(sites,'Obninsk, Russia',55.11,36.6,3)
pushcity(sites,'Haute Provence, France',43.93,5.71,-1)
pushcity(sites,'Oglesby, IL, USA',41.28,-88.94,-6)
pushcity(sites,'Oak Ridge, TN, USA',35.96,-84.29,-5)
pushcity(sites,'Ochsenkopf, Germany',50.03,11.8,1)
pushcity(sites,'Pallas-Sammaltunturi, GAW Station, Finland',67.97,24.12,2)
pushcity(sites,'Palmer Station, Antarctica, USA',-64.92,-64,-3)
pushcity(sites,'Penn State, PA, USA',40.72,-77.93,-5)
pushcity(sites,'Point Arena, CA, USA',38.95,-123.73,-8)
pushcity(sites,'Perth, Australia',-31.93,115.96,-8)
pushcity(sites,'Rowley, IA, USA',42.4,-91.84,-6)
pushcity(sites,'Ragged Point, Barbados',13.17,-59.43,-4)
pushcity(sites,'Charleston, SC, USA',32.77,-79.55,-5)
pushcity(sites,'San Jose, Costa Rica',9.98,-84.21,0)
pushcity(sites,'South Carolina Tower, USA',33.4057,-81.8334,-5)
pushcity(sites,'Mahe Island, Seychelles',-4.67,55.17,4)
pushcity(sites,'Sioux Falls, SD, USA',43.73,-96.62,-6)
pushcity(sites,'Southern Great Plains, OK, USA',36.8,-97.5,-6)
pushcity(sites,'Shemya Island, AK, USA',52.72,174.1,-10)
pushcity(sites,'Tutuila, American Samoa',-14.2474,-170.5644,-11)
pushcity(sites,'St. Paul Island, AK, USA',57.09,-170.13,9)
pushcity(sites,'South Pole, Antarctica, USA',-89.98,-24.8,12)
pushcity(sites,'Ocean Station M, Norway',66,2,0)
pushcity(sites,'Sutro Tower, San Francisco, CA, USA',37.7553,-122.4517,-8)
pushcity(sites,'Summit, Greenland',72.58,-38.48,-2)
pushcity(sites,'Sterling, VA, USA',38.98,-77.47,-5)
pushcity(sites,'Syowa Station, Antarctica, Japan',-69,39.58,3)
pushcity(sites,'Tae-ahn Peninsula, Republic of Korea',36.73,126.13,9)
pushcity(sites,'Tierra Del Fuego, Ushuaia, Argentina',-54.87,-68.48,-4)
pushcity(sites,'Sinton, TX, USA',27.73,-96.86,-6)
pushcity(sites,'Trinidad Head, CA, USA',41.054,-124.15,-8)
pushcity(sites,'Ulaanbaatar, Mongolia',47.4,106,8)
pushcity(sites,'Ushuaia Observatory, Argentina',-54.82,-68.33,0)
pushcity(sites,'Wendover, UT, USA',39.9,-113.72,-7)
pushcity(sites,'Ulaan Uul, Mongolia',44.45,111.1,8)
pushcity(sites,'Cartersville, GA, USA',32.91,-79.36,-5)
pushcity(sites,'Wallops Island, VA, USA',37.86,-75.51,5)
pushcity(sites,'West Branch, IA, USA',41.725,-91.353,-6)
pushcity(sites,'Walnut Grove, CA, USA',38.265,-121.4911,-8)
pushcity(sites,'Sede Boker, Negev Desert, Israel',31.13,34.88,2)
pushcity(sites,'Moody, TX, USA',31.32,-97.33,-6)
pushcity(sites,'Mt. Waliguan, Peoples Republic of China',36.2879,100.8964,8)
pushcity(sites,'Ny-Alesund, Svalbard, Norway and Sweden',78.9,11.88,1)

  function tzFromLatLng(lat, lng) {
    var tz = -9999
    if (document.getElementById("showworld").checked) {
      for (var i=0;i<WorldCities.length;i++) {
        if ((lat == WorldCities[i].lat) && (lng == WorldCities[i].lng)) {
          tz = WorldCities[i].zone
        }
      }
    }
    if (document.getElementById("showus").checked) {
      for (var i=0;i<USCities.length;i++) {
        if ((lat == USCities[i].lat) && (lng == USCities[i].lng)) {
          tz = USCities[i].zone
        }
      }
    }
    if (document.getElementById("showsurf").checked) {
      for (var i=0;i<surfrad.length;i++) { 
        if ((lat == surfrad[i].lat) && (lng == surfrad[i].lng)) {
          tz = surfrad[i].zone
        }
      }
    }
    if (document.getElementById("showdata").checked) {
      for (var i=0;i<sites.length;i++) { 
        if ((lat == sites[i].lat) && (lng == sites[i].lng)) {
          tz = sites[i].zone
        }
      }
    }
    if (document.getElementById("showobs").checked) {
      for (var i=0;i<obs.length;i++) { 
        if ((lat == obs[i].lat) && (lng == obs[i].lng)) {
          tz = obs[i].zone
        }
      }
    }
    return tz
  }

  function makeIcon(color) {
    newIcon = new GIcon()
    newIcon.image = "./"+color+".small.png"
    newIcon.iconSize = new GSize(10,17)
    newIcon.iconAnchor = new GPoint(4,17)
    newIcon.infoWindowAnchor = new GPoint(4,1)
    return newIcon
  }

  function makeBigIcon() {
    var newIcon = new GIcon(G_DEFAULT_ICON)
    newIcon.shadow = ""
    return newIcon
  }

  function showLine(color, direction) {
    var zoom  = map.getZoom()
    var scale = 300.0/Math.pow(2,zoom)
    var center = map.getCenter()
    var endpt = new GLatLng(center.lat() + scale * Math.cos(degToRad(direction)), center.lng() + scale * Math.sin(degToRad(direction)))
    map.addOverlay(new GPolyline([center, endpt],color,5,0.5,{geodesic:true}))
  }

  function showLineGeodesic(color, direction) {
    //alert("Direction = " + direction)
    var zoom  = map.getZoom()
    var scale = (zoom > 3) ? 3/Math.pow(2,zoom) : 0.375
    var center = map.getCenter()
    var lat1 = degToRad(center.lat())
    var lng1 = degToRad(center.lng())
      var lat = Math.asin(Math.sin(lat1)*Math.cos(scale)+Math.cos(lat1)*Math.sin(scale)*Math.cos(degToRad(direction)))
      var dlon = -Math.atan2(Math.sin(degToRad(direction))*Math.sin(scale)*Math.cos(lat1), Math.cos(scale)-Math.sin(lat1)*Math.sin(lat))
      var lon = ( (lng1 - dlon + Math.PI) % (2*Math.PI) ) - Math.PI
      var endpt = new GLatLng(radToDeg(lat), radToDeg(lon))
    //alert("endpt = " + radToDeg(lat) + "," + radToDeg(lon))
    map.addOverlay(new GPolyline([center, endpt],color,5,0.5,{geodesic:true}))
  }

  var redIcon = makeIcon('012')
  var yelIcon = makeIcon('036')
  var bluIcon = makeIcon('149')
  var purIcon = makeIcon('172')
  var grnIcon = makeIcon('078')
  var gryIcon = makeIcon('215')
  var whtIcon = makeIcon('216')
  var bigIcon = makeBigIcon()

  var markersSurfrad=[]
  var markersObs=[]
  var markersUSCities=[]
  var markersWorldCities=[]
  var markersData=[]

  var cookee = GetCookie("lat")
  var startLat = (cookee) ? cookee : "39.833"
  cookee = GetCookie("lng")
  var startLng = (cookee) ? cookee : "-98.583"
  cookee = GetCookie("gmt")
  var startZone = (cookee) ? cookee : "-7"

// Create the map
  var map = new GMap2(document.getElementById("map"));
  map.addControl(new GLargeMapControl());
  map.addControl(new GMapTypeControl());

  var maplat = startLat
  var maplng = startLng

  var center = new GLatLng (maplat, maplng);
  map.setCenter(center, 3);
  map.setMapType(G_HYBRID_MAP);

  var mgr = new MarkerManager(map);

    calculate()
    GEvent.addListener(map, "click", function(overlay, latlng, overlaylatlng) {
      if (overlay) {
        var nlat = overlaylatlng.lat()
    var nlng = overlaylatlng.lng()
    var ntz  = tzFromLatLng(overlaylatlng.lat(), overlaylatlng.lng())
        document.getElementById("latbox").value=nlat
        document.getElementById("lngbox").value=nlng
    if ((ntz > -13) && (ntz <= 13)) {
          document.getElementById("zonebox").value=ntz
    }
    latlongChanged()
//      } else {
//        map.setCenter(latlng);
      }
    })

  function addMarker(list, lat, lng, tooltip, icon) {
    var point = new GPoint(lat, lng);
    var mrkr = new GMarker(point, {title:tooltip, icon:icon});
    list.push(mrkr);
  }

  for (var i=0;i<WorldCities.length;i++) {
    addMarker(markersWorldCities, WorldCities[i].lng, WorldCities[i].lat, WorldCities[i].name, purIcon);
  }
  for (var i=0;i<USCities.length;i++) {
    addMarker(markersUSCities, USCities[i].lng, USCities[i].lat, USCities[i].name, bluIcon);
  }
  for (var i=0;i<surfrad.length;i++) { 
    addMarker(markersSurfrad, surfrad[i].lng, surfrad[i].lat, surfrad[i].name, redIcon);
  }
  for (var i=0;i<sites.length;i++) { 
    addMarker(markersData, sites[i].lng, sites[i].lat, sites[i].name, grnIcon);
  }
  for (var i=0;i<obs.length;i++) { 
    addMarker(markersObs, obs[i].lng, obs[i].lat, obs[i].name, gryIcon);
  }

  function showMarkers() {
    //map.clearOverlays()
    mgr.clearMarkers();
    if (document.getElementById("showsurf").checked) {
      mgr.addMarkers(markersSurfrad, 0, 17);
    }
    if (document.getElementById("showobs").checked) {
      mgr.addMarkers(markersObs, 0, 17)
    }
    if (document.getElementById("showus").checked) {
      mgr.addMarkers(markersUSCities, 0, 17)
    }
    if (document.getElementById("showworld").checked) {
      mgr.addMarkers(markersWorldCities, 0, 17)
    }
    if (document.getElementById("showdata").checked) {
      mgr.addMarkers(markersData, 0, 17)
    }
    mgr.refresh();
  }
  showMarkers()
  
/********************* Place Big Marker in Center *******************/
  var bigMarker = new GMarker(center, {draggable:true, icon:bigIcon})

  map.addOverlay(bigMarker)
  GEvent.addListener(bigMarker, "dragend", function() {
    var point = bigMarker.getPoint();
    map.setCenter(point);
    document.getElementById("latbox").value=point.lat();
    document.getElementById("lngbox").value=point.lng();
    clearOutputs()
    calculate()
  });

  GEvent.addListener(map, "moveend", function() {
    map.clearOverlays();
    var center = map.getCenter();
    var bigMarker = new GMarker(center, {draggable:true, icon:bigIcon});
    map.addOverlay(bigMarker);
    document.getElementById("latbox").value=center.lat();
    document.getElementById("lngbox").value=center.lng();
    showMarkers();
    clearOutputs()
    calculate()
    GEvent.addListener(bigMarker, "dragend", function() {
      var point = bigMarker.getPoint();
      map.setCenter(point);
      document.getElementById("latbox").value=point.lat();
      document.getElementById("lngbox").value=point.lng();
    });
  });
}

function refreshMap() {
  var oldcenter = map.getCenter()
  var oldzoom = map.getZoom()
  map.clearOverlays()
  map.setCenter(oldcenter, oldzoom)
  showMarkers()
  clearOutputs()
  // Clear calculated fields
}

function inputsChanged() {
  var center = map.getCenter()
  map.setCenter(center)
}

function latlongChanged() {
  var newlat = readTextBox("latbox", 9, 0, 0, -89.9, 89.9, 0)
  var newlng = readTextBox("lngbox", 10, 0, 0, -180.0, 180.0, 0)
  var newcenter = new GLatLng (parseFloat(newlat), parseFloat(newlng))
  map.setCenter(newcenter);
  //refreshMap()
  //clearOutputs()
  //calculate()
}



//]]>

</script>

<hr>
Having Trouble?
<font size="2">
<ul>
<li>Check your Time Zone -- Is the time zone set correctly for this location? Try clicking on one of the city pins near (and in the same time zone as) your location. Tick the boxes above the map to show different sets of pins.
<li>Daylight Saving Time? -- Our calculator does not automatically set Daylight Time, so tick the DST box if Daylight TIme is in effect for your location on the day you have entered.
<li>Click the <i>Show on map</i> checkboxes under sunrise, sunset and azimuth/elevation to display color-coded lines on the map indicating the direction of sunrise, sunset and current solar position.
<li>This solar calculator is provided for research and entertainment purposes only. Due to variable atmospheric conditions and uncertainty inherent in the algorithms used, the actual observed values of sunrise, sunset and solar position may differ from the results presented here.
<li>Other Questions? -- Feel free to write to us with any questions or comments at <a href="mailto:webmaster.gmd&#64;noaa.gov">Webmaster</a>.
</ul>
</font>

<hr>
Solar Calculation Resources:
<table border=0 width="600">
<tr>
<td>
<font size="2">
<ul>
<li><a href="./sollinks.html">Solar Calculator Links</a><br>
<li><a href="./glossary.html">Solar Calculator Glossary</a><br>
</ul>
</font>
</td>

<td>
<font size="2">
<ul>
<li><a href="./sunrise.html">Old Sunrise Calculator</a><br>
<li><a href="./azel.html">Old Solar Pos Calculator</a><br>
</ul>
</font>
</td>

<td>
<font size="2">
<ul>
<li><a href="./calcdetails.html">Calculation Details</a><br>
<li><a href="./timezone.html">Time Zone Table</a><br>
</ul>
</font>
</td>
</tr>
</table>


<noscript><b>JavaScript must be enabled in order for you to use Google Maps.</b> 
However, it seems JavaScript is either disabled or not supported by your browser. 
To view Google Maps, enable JavaScript by changing your browser options, and then 
try again.
</noscript>

            <!-- force body content to include the floated "news" element -->
            <div class="clear"></div>
        </div> <!-- end content -->
    </div> <!-- end pbody -->

    <div id="footer">
    <div id="orgs">
        <a href="http://www.doc.gov/">U.S. Department of Commerce</a> | 
        <a href="http://www.noaa.gov/">National Oceanic and Atmospheric Administration</a>
        <br>
        <a href="/">Earth System Research Laboratory</a> | 
        <a href="/gmd/">Global Monitoring Division</a>
        <br>
        <span class="url">
            <a href="/gmd/grad/solcalc/index.html">http://www.esrl.noaa.gov/gmd/grad/solcalc/index.html</a>
        </span>
    </div>

    <div id="policies">
        <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | 
        <a href="http://www.esrl.noaa.gov/about/accessibility.html">Accessibility</a> | 
        <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | 
        <a href="http://www.usa.gov/">USA.gov</a>
        <br>
        <a href="http://www.esrl.noaa.gov/about/contacts.html">Contact Us</a> | 
        <a href="mailto:webmaster.gmd&#64;noaa.gov">Webmaster</a>
        <br>
        <a href="http://www.esrl.noaa.gov/search/sitemap.html">Site Map</a>
    </div>

    </div> <!-- end footer -->

</div> <!-- end container -->
</body>
</html>


